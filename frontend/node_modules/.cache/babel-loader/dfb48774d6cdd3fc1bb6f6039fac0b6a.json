{"ast":null,"code":"import _regeneratorRuntime from \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/src/routes/SignIn.jsx\";\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from 'react-router-dom';\nimport ChkAuth from '../chkAuth';\nexport default function RenderSignin() {\n  //const [Render, SetRender] = useState (0);\n  //alert(Render)\n  var Navigate = useNavigate();\n  useEffect(function () {\n    //check if signed in and go to profile page\n    ChkAuth().then(function (user) {\n      if (user) {\n        Navigate(/profile/ + user); //alert(\"user returnedddddd from chkauth\", user)\n      }\n    });\n  }, []);\n\n  function signin() {\n    return _signin.apply(this, arguments);\n  }\n\n  function _signin() {\n    _signin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var username, password, signindata, options, signinurl, response, convert;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // Sign in, check password, get token\n              username = document.getElementById('username').value; // get username and password\n\n              password = document.getElementById('pass').value;\n              signindata = {\n                Username: username,\n                Password: password\n              };\n              options = {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(signindata)\n              };\n              signinurl = 'http://192.168.1.93:4001/signin/' + username; // post request to check sign in details;\n\n              _context.next = 7;\n              return fetch(signinurl, options);\n\n            case 7:\n              response = _context.sent;\n              _context.next = 10;\n              return response.json();\n\n            case 10:\n              convert = _context.sent;\n              console.log(\"User password check complete:\");\n              console.log(response.status);\n\n              if (response.status === 200) {\n                // if password is a match redirect to profile page\n                console.log(\"pword correct stored in local\", \"authjwt=\" + convert.token); //document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n\n                localStorage.setItem('jwt_token', convert.token); // Store JWT in storage\n\n                Navigate(\"/Profile/\" + username);\n              } else if (response.status === 401) {\n                // handle not a match\n                alert(\"userame or password was incorrect please try again\");\n              }\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _signin.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login100-form-title p-b-53\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Sign In With\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/#\",\n    className: \"btn-face m-b-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-facebook-official\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), \"Facebook\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/#\",\n    className: \"btn-google m-b-20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"icon-google.png\",\n    alt: \"GOOGLE\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), \"Google\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-t-31 p-b-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"txt1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \"Username\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap-input100 validate-input\",\n    \"data-validate\": \"Username is required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input100\",\n    type: \"text\",\n    name: \"username\",\n    id: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"focus-input100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-t-13 p-b-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"txt1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/#\",\n    className: \"txt2 bo1 m-l-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Forgot?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrap-input100 validate-input\",\n    \"data-validate\": \"Password is required\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"input100\",\n    type: \"password\",\n    name: \"pass\",\n    id: \"pass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"focus-input100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-login100-form-btn m-t-17\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login100-form-btn\",\n    type: \"button\",\n    onClick: signin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full text-center p-t-55\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"txt2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Not a member?\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, \"Sign up now\")));\n}\n;","map":{"version":3,"sources":["/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/src/routes/SignIn.jsx"],"names":["React","useState","useEffect","useNavigate","Link","ChkAuth","RenderSignin","Navigate","then","user","signin","username","document","getElementById","value","password","signindata","Username","Password","options","method","headers","body","JSON","stringify","signinurl","fetch","response","json","convert","console","log","status","token","localStorage","setItem","alert"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, Link } from 'react-router-dom';\nimport ChkAuth from '../chkAuth';\n\nexport default function RenderSignin () {\n\t//const [Render, SetRender] = useState (0);\n  \t//alert(Render)\n\tconst Navigate = useNavigate();\n\n\tuseEffect( () => {\n\t\t//check if signed in and go to profile page\n\t\tChkAuth().then(user => {\n\t\t  if (user) {\n\t\t  Navigate(/profile/+user)\n\t\t  //alert(\"user returnedddddd from chkauth\", user)\n\t\t  } \n\t\t})\n\t  },[]);\n\n\t\n\tasync function signin(){ // Sign in, check password, get token\n\t\t\n\t\tconst username = document.getElementById('username').value;// get username and password\n\t\tconst password = document.getElementById('pass').value;\n\t\t\t\n\t\tlet signindata = {\n\t\t\tUsername: username,\n\t\t\tPassword: password\n\t\t}\n\t\t\n\t\tlet options = {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify(signindata),\n\t\t}\n\t\t\n\t\tlet signinurl = 'http://192.168.1.93:4001/signin/' + username\n\t\t\n\t\t// post request to check sign in details;\n\t\tlet response = await fetch(signinurl, options)// post signin details with id in url\n\t\tlet convert = await response.json ()\n\t\tconsole.log(\"User password check complete:\")\n\t\tconsole.log(response.status)\n\t\tif ( response.status === 200){ // if password is a match redirect to profile page\n\t\t\tconsole.log(\"pword correct stored in local\", \"authjwt=\"+convert.token)\n\t\t\t//document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n\t\t\tlocalStorage.setItem('jwt_token', convert.token) // Store JWT in storage\n\t\t\tNavigate (\"/Profile/\"+username)\n\t\t} else if ( response.status === 401){// handle not a match\n\t\t\talert(\"userame or password was incorrect please try again\")\n\t\t}\n\t\t\n\t\t}\n\t\n  return (  \n    <>\n      <span className=\"login100-form-title p-b-53\">\n\t\t\t\t\t\tSign In With\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<a href=\"/#\" className=\"btn-face m-b-20\">\n\t\t\t\t\t\t<i className=\"fa fa-facebook-official\"></i>\n\t\t\t\t\t\tFacebook\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a href=\"/#\" className=\"btn-google m-b-20\">\n\t\t\t\t\t\t<img src=\"icon-google.png\" alt=\"GOOGLE\" />\n\t\t\t\t\t\tGoogle\n\t\t\t\t\t</a>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"p-t-31 p-b-9\">\n\t\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t\tUsername\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Username is required\">\n\t\t\t\t\t\t<input className=\"input100\" type=\"text\" name=\"username\" id=\"username\"/>\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"p-t-13 p-b-9\">\n\t\t\t\t\t\t<span className=\"txt1\">\n\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<a href=\"/#\" className=\"txt2 bo1 m-l-5\">\n\t\t\t\t\t\t\tForgot?\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Password is required\">\n\t\t\t\t\t\t<input className=\"input100\" type=\"password\" name=\"pass\" id=\"pass\" />\n\t\t\t\t\t\t<span className=\"focus-input100\"></span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\n\t\t\t\t\t\t<button className=\"login100-form-btn\" type=\"button\" onClick={signin}>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"w-full text-center p-t-55\">\n\t\t\t\t\t\t<span className=\"txt2\">\n\t\t\t\t\t\t\tNot a member?\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<Link to=\"/signUp\">Sign up now</Link> \n\t\t\t\t\t\n\t\t\t\t\t</div>\n    </>\n  )\n};"]},"metadata":{},"sourceType":"module"}