{"ast":null,"code":"import _regeneratorRuntime from \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/src/routes/Profile.jsx\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport ChkAuth from '../chkAuth';\nexport default function Home(props) {\n  var _this = this;\n\n  var _useState = useState(\"nonw\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      sessionUser = _useState2[0],\n      setSessionUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      auth = _useState4[0],\n      setAuth = _useState4[1];\n\n  var Navigate = useNavigate();\n  var params = useParams();\n  var userName = params.id;\n  var flexUser;\n\n  if (userName === \"all\") {\n    flexUser = \"Home Feed\";\n  } else {\n    flexUser = params.id;\n  }\n\n  var Today = new Date().toLocaleDateString();\n  useEffect(function () {\n    //alert(\"useeffect\")\n    ChkAuth().then(function (user) {\n      if (user) {\n        setAuth(true);\n        setSessionUser(user); //alert(\"user returnedddddd from chkauth\", user)\n      } else {\n        setAuth(false);\n        setSessionUser(false);\n      }\n    });\n  }, []);\n\n  var _useState5 = useState([\"hi\", \"hi\"]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cmt = _useState6[0],\n      setcmt = _useState6[1];\n\n  useEffect(function () {\n    //alert(\"useeffect\")\n    getCmt().then(function (cmtz) {\n      if (cmtz) {\n        setcmt(cmtz);\n        console.log(\"returned from chkauth added to statw\", cmtz);\n      }\n    });\n  }, []);\n\n  function goToProfile() {\n    Navigate(\"/profile/\" + sessionUser);\n  }\n\n  function goToAllPosts() {\n    Navigate(\"/profile/all\");\n  }\n\n  function Logout() {\n    localStorage.removeItem('jwt_token'); //alert(\"deleted jwt\")\n\n    Navigate(\"/\");\n  }\n\n  function getCmt() {\n    return _getCmt.apply(this, arguments);\n  }\n\n  function _getCmt() {\n    _getCmt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, options, Url, response, convert;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // sends username, password from input server then creates s3 bucket in username and stores details on mongo\n              // data to be sent in request to api includinb id of mongodb document\n              data = {\n                Username: userName\n              }; // object containing fetch options for the put request\n\n              options = {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n              };\n              Url = 'http://192.168.1.93:4001/getCmt'; // post request using options object\n\n              console.time(\"put response took\");\n              _context.next = 6;\n              return fetch(Url, options);\n\n            case 6:\n              response = _context.sent;\n              _context.next = 9;\n              return response.json();\n\n            case 9:\n              convert = _context.sent;\n              console.timeEnd(\"put response took\");\n              console.log(\"got comment is:\");\n              console.log(convert);\n\n              if (!(response.status === 401 || response.status === 400)) {\n                _context.next = 16;\n                break;\n              }\n\n              _context.next = 20;\n              break;\n\n            case 16:\n              if (!(response.status === 200)) {\n                _context.next = 20;\n                break;\n              }\n\n              // if password is a match return auth'd username\n              console.log(\"found post data\");\n              console.log(convert.Posts); //setcmt(convert.Posts)\n              //document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n              //localStorage.setItem('jwt_token', convert.token) // Store JWT in storage\n              ////alert(\"Welcome to the club! Please setup your profile\")\n              //Navigate (\"/profileSetup\")\n\n              return _context.abrupt(\"return\", convert.Posts);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getCmt.apply(this, arguments);\n  }\n\n  function sendCmt(_x, _x2, _x3) {\n    return _sendCmt.apply(this, arguments);\n  }\n\n  function _sendCmt() {\n    _sendCmt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(msgType, cmtAuthr, iD) {\n      var cmt, Post, reply, Liker, data, options, postUrl, response, convert;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // sends username, password from input server then creates s3 bucket in username and stores details on mongo\n              //alert(\"date is\", Date.now)\n              cmt = \"no need for comment\"; // in case is reply and comment box not shown so cause null error\n\n              if (msgType === \"isCmt\") {\n                cmt = document.getElementById(\"cmt\").value; // get reply to cmt if there\n              }\n\n              Post = {\n                // send starter post\n                Username: cmtAuthr,\n                MainCmt: cmt,\n                // get username password and email\n                Time: new Date().toLocaleTimeString('en-GB', {\n                  hour: \"numeric\",\n                  minute: \"numeric\"\n                }),\n                Date: Today,\n                TimeStamp: Date.now(),\n                Comments: [],\n                // begin sub comments \n                Likes: [] // begin like\n\n              };\n              reply = {\n                Username: \"dud\",\n                Comment: \"dud\"\n              }; //let reply = \"hi\"\n\n              if (msgType === \"isResponse\") {\n                reply.Username = sessionUser;\n                reply.Comment = document.getElementById(iD).value; // get reply to cmt if there\n              }\n\n              Liker = {\n                Username: \"dud\"\n              };\n\n              if (msgType === \"cmtLiked\") {\n                //alert(\"likesender is\", sessionUser)\n                Liker.Username = sessionUser;\n              } // dsend start comment or reply to comment depending on is replychk false/true\n\n\n              data = {\n                Username: userName,\n                Updatetype: '$set',\n                Key2updt: 'Posts',\n                isReply: msgType,\n                replyCmt: reply,\n                LikeSent: Liker,\n                PostIndx: iD,\n                Value2updt: Post\n              }; // object containing fetch options for the put request\n\n              options = {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n              };\n              postUrl = 'http://192.168.1.93:4001/postMsg'; // post request using options object\n\n              console.time(\"put response took\");\n              _context2.next = 13;\n              return fetch(postUrl, options);\n\n            case 13:\n              response = _context2.sent;\n              _context2.next = 16;\n              return response.json();\n\n            case 16:\n              convert = _context2.sent;\n              console.timeEnd(\"put response took\");\n              console.log(\"added comment updated document is:\");\n              console.log(convert);\n\n              if (response.status === 401 || response.status === 400) {// handle not a match\n                //alert(\"your comment wasnt added try again\")\n                // Navigate(\"/signIn\")\n                //return false   \n              } else if (response.status === 200) {\n                // if password is a match return auth'd username\n                console.log(\"pushed comment\");\n                console.log(convert.Posts);\n                setcmt(convert.Posts); ////alert(\"pushed comment\")\n                //document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n                //localStorage.setItem('jwt_token', convert.token) // Store JWT in storage\n                ////alert(\"Welcome to the club! Please setup your profile\")\n                //Navigate (\"/profileSetup\")\n              }\n\n            case 21:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _sendCmt.apply(this, arguments);\n  }\n\n  function redirecter() {\n    Navigate(\"/signIn\");\n  }\n\n  function EditProfile() {\n    Navigate(\"/editProfile\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    className: \"content content-full-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://\" + userName + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"m-t-10 m-b-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, flexUser), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"m-b-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, \"UXUI + Frontend Developer\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"btn btn-sm btn-info mb-2\",\n    onClick: function onClick() {\n      EditProfile();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    className: \"btn btn-sm btn-info mb-2\",\n    onClick: function onClick() {\n      Logout();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 25\n    }\n  }, \"Log Out\"))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"profile-header-tab nav nav-tabs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    className: \"nav-link active show\",\n    \"data-toggle\": \"tab\",\n    onClick: function onClick() {\n      goToProfile();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 47\n    }\n  }, \"PROFILE\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"\",\n    className: \"nav-link\",\n    \"data-toggle\": \"tab\",\n    onClick: function onClick() {\n      goToAllPosts();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 47\n    }\n  }, \"FEED\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#profile-photos\",\n    className: \"nav-link\",\n    \"data-toggle\": \"tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 47\n    }\n  }, \"MEDIA\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#profile-friends\",\n    className: \"nav-link\",\n    \"data-toggle\": \"tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 47\n    }\n  }, \"FRIENDS\"))))), sessionUser === userName || sessionUser && userName === \"all\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 80\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control rounded-corner\",\n    id: \"cmt\",\n    placeholder: \"Write a comment...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 28\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-btn p-l-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary f-s-12 rounded-corner\",\n    type: \"button\",\n    onClick: function onClick() {\n      return sendCmt(\"isCmt\", sessionUser, 0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 31\n    }\n  }, \"Comment\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-content p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tab-pane fade active show\",\n    id: \"profile-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"timeline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 22\n    }\n  }, cmt.map(function (postData) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-time\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"date\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 31\n      }\n    }, postData.Date === Today ? \"Today\" : postData.Date), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"time\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 31\n      }\n    }, postData.Time)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 31\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-header\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"userimage\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://\" + postData.Username + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\",\n      alt: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 62\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"username\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"javascript:;\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 61\n      }\n    }, postData.Username), \" \", /*#__PURE__*/React.createElement(\"small\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 108\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pull-right text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 34\n      }\n    }, \"18 Views\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-content\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 34\n      }\n    }, postData.MainCmt)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-likes\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stats-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"stats-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 37\n      }\n    }, postData.Likes?.length, \" Likes\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"stats-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, postData.Comments?.length, \" Comments\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"stats\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa-stack fa-fw stats-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle fa-stack-2x text-danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-heart fa-stack-1x fa-inverse t-plus-1\",\n      onClick: function onClick() {\n        return sendCmt(\"cmtLiked\", postData.Username, postData.PostNum);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa-stack fa-fw stats-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-circle fa-stack-2x text-primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-thumbs-up fa-stack-1x fa-inverse\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 37\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"timeline-comment-box\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://\" + userName + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 56\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 34\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      action: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 37\n      }\n    }, auth ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control rounded-corner\",\n      id: postData.PostNum,\n      placeholder: \"Write a comment...\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn p-l-10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary f-s-12 rounded-corner\",\n      type: \"button\",\n      onClick: function onClick() {\n        return sendCmt(\"isResponse\", postData.Username, postData.PostNum);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 46\n      }\n    }, \"Comment\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control rounded-corner\",\n      id: postData.PostNum,\n      placeholder: \"Write a comment...\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn p-l-10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary f-s-12 rounded-corner\",\n      type: \"button\",\n      onClick: function onClick() {\n        return redirecter();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 46\n      }\n    }, \"Sign In to Commment\"))))))));\n  })))))))));\n}","map":{"version":3,"sources":["/home/andru/Documents/work/portfolio/social-network-frontend-portfolio/src/routes/Profile.jsx"],"names":["useState","useEffect","useNavigate","useParams","ChkAuth","Home","props","sessionUser","setSessionUser","auth","setAuth","Navigate","params","userName","id","flexUser","Today","Date","toLocaleDateString","then","user","cmt","setcmt","getCmt","cmtz","console","log","goToProfile","goToAllPosts","Logout","localStorage","removeItem","data","Username","options","method","headers","body","JSON","stringify","Url","time","fetch","response","json","convert","timeEnd","status","Posts","sendCmt","msgType","cmtAuthr","iD","document","getElementById","value","Post","MainCmt","Time","toLocaleTimeString","hour","minute","TimeStamp","now","Comments","Likes","reply","Comment","Liker","Updatetype","Key2updt","isReply","replyCmt","LikeSent","PostIndx","Value2updt","postUrl","redirecter","EditProfile","map","postData","length","PostNum"],"mappings":"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","sourcesContent":["\nimport { useState, useEffect } from \"react\"\nimport { useNavigate, useParams } from \"react-router\";\nimport ChkAuth from '../chkAuth';\n\nexport default function Home (props) {\n   const [sessionUser, setSessionUser] = useState (\"nonw\")\n   const [auth, setAuth] = useState (false);\n   const Navigate = useNavigate();\n\n   let params = useParams()\n   let userName = params.id \n   let flexUser\n   if (userName === \"all\"){\n     flexUser = \"Home Feed\"\n   } else { \n      flexUser = params.id \n   }\n   let Today = new Date().toLocaleDateString()\n\n  useEffect( () => {\n    //alert(\"useeffect\")\n    ChkAuth().then(user => {\n      if (user) {\n      setAuth(true)\n      setSessionUser(user)\n      //alert(\"user returnedddddd from chkauth\", user)\n      } else {\n         setAuth(false)\n         setSessionUser(false)\n      }\n    })\n  },[]);\n\n\n   const[cmt, setcmt] = useState([\"hi\", \"hi\"])\n   useEffect( () => {\n      //alert(\"useeffect\")\n      getCmt().then(cmtz => {\n        if (cmtz) {\n        setcmt(cmtz)\n        console.log(\"returned from chkauth added to statw\", cmtz)\n        }\n      })\n    },[]);\n\n    function goToProfile (){\n      Navigate (\"/profile/\"+sessionUser)\n    }\n\n    function goToAllPosts (){\n      Navigate (\"/profile/all\")\n    }\n\n    function Logout (){\n      localStorage.removeItem('jwt_token')\n      //alert(\"deleted jwt\")\n      Navigate (\"/\")\n    }\n\n   async function getCmt () { // sends username, password from input server then creates s3 bucket in username and stores details on mongo\n  \n        \n        // data to be sent in request to api includinb id of mongodb document\n      let data = {Username: userName}\n  \n      // object containing fetch options for the put request\n      let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n      }\n  \n      let Url = 'http://192.168.1.93:4001/getCmt'\n      // post request using options object\n      console.time(\"put response took\");\n      let response = await fetch(Url, options)\n      let convert = await response.json ()\n      console.timeEnd(\"put response took\");\n      console.log(\"got comment is:\")\n      console.log(convert)\n  \n      if ( response.status === 401 || response.status === 400){// handle not a match\n        //alert(\"couldnt find comments try again\")\n        // Navigate(\"/signIn\")\n        //return false   \n       } else if ( response.status === 200){ // if password is a match return auth'd username\n        console.log(\"found post data\")\n        console.log(convert.Posts)\n        //setcmt(convert.Posts)\n           //document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n           //localStorage.setItem('jwt_token', convert.token) // Store JWT in storage\n        ////alert(\"Welcome to the club! Please setup your profile\")\n           //Navigate (\"/profileSetup\")\n           return convert.Posts\n       }\n       \n    }\n\n\n   async function sendCmt (msgType, cmtAuthr, iD) { // sends username, password from input server then creates s3 bucket in username and stores details on mongo\n      //alert(\"date is\", Date.now)\n      let cmt = \"no need for comment\"// in case is reply and comment box not shown so cause null error\n      if (msgType === \"isCmt\") {\n         cmt = document.getElementById(\"cmt\").value // get reply to cmt if there\n      }\n\n      const Post = { // send starter post\n         Username : cmtAuthr,\n         MainCmt : cmt ,// get username password and email\n         Time : new Date().toLocaleTimeString('en-GB', { hour: \"numeric\", minute: \"numeric\"}),\n         Date : Today,\n         TimeStamp : Date.now(),\n         Comments : [] ,// begin sub comments \n         Likes : [] // begin like\n      }\n\n      let reply ={Username : \"dud\",\n                  Comment : \"dud\"\n      }\n\n      //let reply = \"hi\"\n      if (msgType === \"isResponse\") {\n         reply.Username = sessionUser\n         reply.Comment = document.getElementById(iD).value // get reply to cmt if there\n      }\n\n      let Liker = {Username : \"dud\"}\n      if (msgType === \"cmtLiked\") {\n         //alert(\"likesender is\", sessionUser)\n         Liker.Username = sessionUser\n      }\n\n        \n        // dsend start comment or reply to comment depending on is replychk false/true\n      let data = {Username: userName, Updatetype: '$set',\n                  Key2updt: 'Posts', isReply: msgType, replyCmt: reply, LikeSent: Liker, PostIndx: iD, Value2updt: Post\n      }\n  \n      // object containing fetch options for the put request\n      let options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n      }\n  \n      let postUrl = 'http://192.168.1.93:4001/postMsg'\n      // post request using options object\n      console.time(\"put response took\");\n      let response = await fetch(postUrl, options)\n      let convert = await response.json ()\n      console.timeEnd(\"put response took\");\n      console.log(\"added comment updated document is:\")\n      console.log(convert)\n  \n      if ( response.status === 401 || response.status === 400){// handle not a match\n        //alert(\"your comment wasnt added try again\")\n        // Navigate(\"/signIn\")\n        //return false   \n       } else if ( response.status === 200){ // if password is a match return auth'd username\n        console.log(\"pushed comment\")\n        console.log(convert.Posts)\n        setcmt(convert.Posts)\n        ////alert(\"pushed comment\")\n           //document.cookie = \"authjwt=\"+convert.token; // store data in cookie\n           //localStorage.setItem('jwt_token', convert.token) // Store JWT in storage\n        ////alert(\"Welcome to the club! Please setup your profile\")\n           //Navigate (\"/profileSetup\")\n       }\n    }\n\n   function redirecter () {\n      Navigate(\"/signIn\")\n   }\n\n   function EditProfile (){\n      Navigate (\"/editProfile\")\n    }\n\n\n\nreturn (\n       \n<div className=\"container\">\n   <div className=\"row\">\n      <div className=\"col-md-12\">\n         <div id=\"content\" className=\"content content-full-width\">\n            {/* begin profile */}\n            <div className=\"profile\">\n               <div className=\"profile-header\">\n                  {/* BEGIN profile-header-cover */}\n                  <div className=\"profile-header-cover\"></div>\n                  {/* END profile-header-cover */}\n                  {/* BEGIN profile-header-content */}\n                  <div className=\"profile-header-content\">\n                     {/* BEGIN profile-header-img */}\n                     <div className=\"profile-header-img\">\n                        <img src={\"https://\" + userName + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\"} alt=\"\"/>\n                     </div>\n                     {/* END profile-header-img */}\n                     {/* BEGIN profile-header-info */}\n                     <div className=\"profile-header-info\">\n                        <h4 className=\"m-t-10 m-b-5\">{flexUser}</h4>\n                        <p className=\"m-b-10\">UXUI + Frontend Developer</p>\n                        <a href=\"#\" className=\"btn btn-sm btn-info mb-2\" onClick={() => {EditProfile()}}>Edit Profile</a>\n                        <a href=\"#\" className=\"btn btn-sm btn-info mb-2\" onClick={() => {Logout()}}>Log Out</a>\n                     </div>\n                     {/* END profile-header-info */}\n                  </div>\n                  {/* END profile-header-content */}\n                  {/* BEGIN profile-header-tab */}\n                  <ul className=\"profile-header-tab nav nav-tabs\">\n                     <li className=\"nav-item\"><a href=\"\" className=\"nav-link active show\" data-toggle=\"tab\" onClick={() => {goToProfile()}}>PROFILE</a></li>\n                     <li className=\"nav-item\"><a href=\"\" className=\"nav-link\" data-toggle=\"tab\" onClick={() => {goToAllPosts()}}>FEED</a></li>\n                     <li className=\"nav-item\"><a href=\"#profile-photos\" className=\"nav-link\" data-toggle=\"tab\">MEDIA</a></li>\n                     <li className=\"nav-item\"><a href=\"#profile-friends\" className=\"nav-link\" data-toggle=\"tab\">FRIENDS</a></li>\n                  </ul>\n                  {/* END profile-header-tab */}\n               </div>\n            </div>\n            {/* end profile */}\n            {/*write comment section*/}\n            {sessionUser === userName || (sessionUser && userName === \"all\") ? <div className=\"input\">\n                     <form action=\"\">\n                        <div className=\"input-group\">\n                           <input type=\"text\" className=\"form-control rounded-corner\" id=\"cmt\" placeholder=\"Write a comment...\"/>\n                           <span className=\"input-group-btn p-l-10\">\n                              <button className=\"btn btn-primary f-s-12 rounded-corner\" type=\"button\" onClick={() => sendCmt(\"isCmt\", sessionUser, 0)}>Comment</button>\n                           </span>\n                        </div>\n                  </form>\n              </div> : <div></div>}\n            {/*end comment sectiom*/}\n            {/* begin profile-content */}\n            <div className=\"profile-content\">\n               {/* begin tab-content */}\n               <div className=\"tab-content p-0\">\n                  {/* begin #profile-post tab */}\n                  <div className=\"tab-pane fade active show\" id=\"profile-post\">\n                     {/* begin timeline */}\n                     <ul className=\"timeline\">\n                     {\n                        cmt.map((postData)=> (\n                           <li>\n                           {/* begin timeline-time */}\n                           <div className=\"timeline-time\">\n                              <span className=\"date\">{postData.Date === Today ? \"Today\" : postData.Date}</span>\n                              <span className=\"time\">{postData.Time}</span>\n                           </div>\n                           {/* end timeline-time */}\n                           {/* begin timeline-icon */}\n                           <div className=\"timeline-icon\">\n                              <a href=\"javascript:;\">&nbsp;</a>\n                           </div>\n                              {/* end timeline-icon  */}\n                           {/* begin timeline-body */}\n                           <div className=\"timeline-body\">\n                              <div className=\"timeline-header\">\n                                 <span className=\"userimage\"><img src={\"https://\" + postData.Username + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\"} alt=\"\"/></span>\n                                 <span className=\"username\"><a href=\"javascript:;\">{postData.Username}</a> <small></small></span>\n                                 <span className=\"pull-right text-muted\">18 Views</span>\n                              </div>\n                              <div className=\"timeline-content\">\n                                 <p>\n                                    {postData.MainCmt}\n                                 </p>\n                              </div>\n                              <div className=\"timeline-likes\">\n                                 <div className=\"stats-right\">\n                                    <span className=\"stats-text\">{postData.Likes?.length} Likes</span>\n                                    <span className=\"stats-text\">{postData.Comments?.length} Comments</span>\n                                 </div>\n                                 <div className=\"stats\">\n                                    <span className=\"fa-stack fa-fw stats-icon\">\n                                    <i className=\"fa fa-circle fa-stack-2x text-danger\"></i>\n                                    <i className=\"fa fa-heart fa-stack-1x fa-inverse t-plus-1\" onClick={()=>sendCmt(\"cmtLiked\", postData.Username, postData.PostNum)}></i>\n                                    </span>\n                                    <span className=\"fa-stack fa-fw stats-icon\">\n                                    <i className=\"fa fa-circle fa-stack-2x text-primary\"></i>\n                                    <i className=\"fa fa-thumbs-up fa-stack-1x fa-inverse\"></i>\n                                    </span>\n                                    {/* <span className=\"stats-total\">4.3k</span> */}\n                                 </div>\n                              </div>\n                             \n                              <div className=\"timeline-comment-box\">\n                                 <div className=\"user\"><img src={\"https://\" + userName + \"ajh46unique.s3.us-east-2.amazonaws.com/profpic1.jpg\"}/></div>\n                                 <div className=\"input\">\n                                    <form action=\"\">\n                                       {auth ? \n                                          <div className=\"input-group\">\n                                          <input type=\"text\" className=\"form-control rounded-corner\" id={postData.PostNum} placeholder=\"Write a comment...\"/>\n                                          <span className=\"input-group-btn p-l-10\">\n                                             <button className=\"btn btn-primary f-s-12 rounded-corner\" type=\"button\"  onClick={()=>sendCmt(\"isResponse\", postData.Username, postData.PostNum)}>Comment</button>\n                                          </span>\n                                          </div>\n                                          :\n                                          <div className=\"input-group\">\n                                          <input type=\"text\" className=\"form-control rounded-corner\" id={postData.PostNum} placeholder=\"Write a comment...\"/>\n                                          <span className=\"input-group-btn p-l-10\">\n                                             <button className=\"btn btn-primary f-s-12 rounded-corner\" type=\"button\" onClick={()=>redirecter()} >Sign In to Commment</button>\n                                          </span>\n                                          </div>}\n                                    </form>\n                                 </div>\n                              </div>\n                           </div>\n                           {/* end timeline-body */}\n                        </li>\n                        ))\n                     }\n                     </ul>\n                     {/* end timeline */}\n                  </div>\n                  {/* end #profile-post tab */}\n               </div>\n               {/* end tab-content */}\n            </div>\n            {/* end profile-content */}\n         </div>\n      </div>\n   </div>\n</div>\n    )\n}"]},"metadata":{},"sourceType":"module"}